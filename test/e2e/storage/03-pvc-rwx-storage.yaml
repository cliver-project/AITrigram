# Integration Test: PVC with ReadWriteMany
# Prerequisites:
# - Storage class that supports RWX (e.g., nfs-client, rook-cephfs)
# - For kind: install nfs-subdir-external-provisioner

apiVersion: aitrigram.cliver-project.github.io/v1
kind: ModelRepository
metadata:
  name: test-pvc-rwx-model
spec:
  source:
    origin: huggingface
    modelId: "hf-internal-testing/tiny-random-gpt2"
  storage:
    type: PersistentVolumeClaim
    mountPath: /data/models
    persistentVolumeClaim:
      size: "10Gi"
      accessMode: ReadWriteMany
      storageClassName: "nfs-client"  # Adjust to your RWX storage class
  autoDownload: true
